- form_params ||= {}
- form_params.merge!({validate: true, html: {'data-current-privacy' => group.privacy}})

= simple_form_for group, form_params do |f|
  = f.input :name, label: false
  = f.input :description, as: :text, label: false

  = f.input :visible,
            label: 'Finding the group',
            as: :radio_buttons,
            collection: [['Anyone can see the group', true],
                         ['Only members can see the group', false]]

  = f.input :membership_granted_upon,
            label: 'Joining the group',
            as: :radio_buttons,
            collection: [['Anyone can join', 'request'],
                         ['Anyone can request to join', 'approval'],
                         ['Invitation only', 'invitation']]

  = f.input :discussion_privacy,
            label: 'Discussion Privacy',
            as: :radio_buttons,
            collection: [['Public discussions only', 'public_only'],
                         ['Public and private discussions allowed', 'public_or_private'],
                         ['Private discussions only', 'private_only']]

  - if group.is_subgroup?
    = f.input :visible_to_parent_members,
              inline_label: "Allow #{group.parent_name} members to see private discussions",
              parent_group_name: group.parent_name,
              label: false

  = f.input :members_can_add_members,
            as: :radio_buttons,
            collection: [[t('simple_form.labels.group.members_invitable_by_members'), true],
                         [t('simple_form.labels.group.members_invitable_by_coordinators'), false]]

  = f.input :parent_id, :as => :hidden, :input_html => { :value => group.parent.id } if group.parent
  = f.submit submit_text, class: 'btn btn-info btn-large', id: 'group_form_submit', :data => { :disable_with => submit_text }

